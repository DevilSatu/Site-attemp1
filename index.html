<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8">
    <title>Why you need watch fate/zero?</title>
  
    <link rel="stylesheet" href="main css/style.css">
    <script>
      function toggleMenuBtn(btn) {
        btn.classList.toggle('active');
        const label = btn.querySelector('.label');
        if (btn.classList.contains('active')) {
          label.textContent = 'CLOSE';
        } else {
          label.textContent = 'MENU';
        }
      }
    </script>
  </head>
  <body>
    <div class="scroll-container">
      <!-- Первая страница - Мастера -->
      <div class="section main">
        <div class="container">
          <div class="left-btn-block">
            <button class="menu-btn" onclick="toggleMenuBtn(this)">
              <span class="lines">
                <span class="line top"></span>
                <span class="line bottom"></span>
              </span>
              <span class="label">MENU</span>
            </button>
          </div>
          <div class="center-img-block">
            <img src="pictures/zero.png" alt="Навигация изображение" style="width:100%; height:100%; object-fit:cover;">
          </div>
          <div class="right-btns-block">
            <button class="right-btn" id="mastersBtn">Мастера</button>
            <button class="right-btn small" id="servantsBtn">Слуги</button>
          </div>
          <div class="masters-container">
            <div class="rectangles-row-wrapper">
              <div class="rectangles-group left">
                <div class="rectangle-block">
                  <div class="rectangle large">
                    <img src="pictures/Мастер 1.png" alt="Мастер 1" style="width:100%;height:100%;object-fit:cover;" data-modal-text="123123123" data-modal-image="modal/Modal 1.jpg">
                  </div>
                </div>
                <div class="rectangle-block group-left">
                  <div class="rectangle large">
                    <img src="pictures/Мастер 2.png" alt="Мастер 2" style="width:100%;height:100%;object-fit:cover;" data-modal-text="Текст для Мастера 2" data-modal-image="modal/Modal 2.jpg">
                  </div>
                </div>
                <div class="rectangle-block group-center">
                  <div class="rectangle large">
                    <img src="pictures/Мастер 3.png" alt="Мастер 3" style="width:100%;height:100%;object-fit:cover;" data-modal-text="Текст для Мастера 3" data-modal-image="modal/Modal 3.jpg">
                  </div>
                </div>
              </div>
              <div class="rectangle-block center">
                <div class="rectangle large">
                  <img src="pictures/Мастер 4.png" alt="Мастер 4" style="width:100%;height:100%;object-fit:cover;" data-modal-text="Текст для Мастера 4" data-modal-image="modal/Modal 4.jpg">
                </div>
              </div>
              <div class="rectangles-group right">
                <div class="rectangle-block group-center">
                  <div class="rectangle large">
                    <img src="pictures/Мастер 5.png" alt="Мастер 5" style="width:100%;height:100%;object-fit:cover;" data-modal-text="Текст для Мастера 5" data-modal-image="modal/Modal 5.jpg">
                  </div>
                </div>
                <div class="rectangle-block group-right">
                  <div class="rectangle large">
                    <img src="pictures/Мастер 6.png" alt="Мастер 6" style="width:100%;height:100%;object-fit:cover;" data-modal-text="Текст для Мастера 6" data-modal-image="modal/Modal 6.jpg">
                  </div>
                </div>
                <div class="rectangle-block">
                  <div class="rectangle large">
                    <img src="pictures/Мастер 7.png" alt="Мастер 7" style="width:100%;height:100%;object-fit:cover;" data-modal-text="Текст для Мастера 7" data-modal-image="modal/Modal 7.jpg">
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Вторая страница - Слуги -->
      <div class="section second-page">
        <div class="container">
          <div class="servants-container">
            <div class="rectangles-row-wrapper">
              <div class="rectangles-group left">
                <div class="rectangle-block">
                  <div class="rectangle large">
                    <img src="pictures/Слуга 1.jpg" alt="Слуга 1" style="width:100%;height:100%;object-fit:cover;" data-modal-text="Текст для Слуги 1" data-modal-image="pictures/Слуга 1.jpg">
                  </div>
                </div>
                <div class="rectangle-block group-left">
                  <div class="rectangle large">
                    <img src="pictures/Слуга 2.jpg" alt="Слуга 2" style="width:100%;height:100%;object-fit:cover;" data-modal-text="Текст для Слуги 2" data-modal-image="pictures/Слуга 2.jpg">
                  </div>
                </div>
                <div class="rectangle-block group-center">
                  <div class="rectangle large">
                    <img src="pictures/Слуга 3.jpg" alt="Слуга 3" style="width:100%;height:100%;object-fit:cover;" data-modal-text="Текст для Слуги 3" data-modal-image="pictures/Слуга 3.jpg">
                  </div>
                </div>
              </div>
              <div class="rectangle-block center">
                <div class="rectangle large">
                  <img src="pictures/Слуга 4.jpg" alt="Слуга 4" style="width:100%;height:100%;object-fit:cover;" data-modal-text="Текст для Слуги 4" data-modal-image="pictures/Слуга 4.jpg">
                </div>
              </div>
              <div class="rectangles-group right">
                <div class="rectangle-block group-center">
                  <div class="rectangle large">
                    <img src="pictures/Слуга 5.jpg" alt="Слуга 5" style="width:100%;height:100%;object-fit:cover;" data-modal-text="Текст для Слуги 5" data-modal-image="pictures/Слуга 5.jpg">
                  </div>
                </div>
                <div class="rectangle-block group-right">
                  <div class="rectangle large">
                    <img src="pictures/Слуга 6.jpg" alt="Слуга 6" style="width:100%;height:100%;object-fit:cover;" data-modal-text="Текст для Слуги 6" data-modal-image="pictures/Слуга 6.jpg">
                  </div>
                </div>
                <div class="rectangle-block">
                  <div class="rectangle large">
                    <img src="pictures/Слуга 7.jpg" alt="Слуга 7" style="width:100%;height:100%;object-fit:cover;" data-modal-text="Текст для Слуги 7" data-modal-image="pictures/Слуга 7.jpg">
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Модал окошки -->
    <div id="myModal" class="modal">
      <div class="modal-content">
        <span class="close-button">&times;</span>
        <div class="modal-flex-container">
          <div class="modal-image-container">
            <img id="modalImage" src="" alt="Modal Image">
          </div>
          <div class="modal-text-container">
            <p id="modalText"></p>
          </div>
        </div>
      </div>
    </div>

    <script>
      // Модальное окно
      const modal = document.getElementById('myModal');
      const closeButton = document.querySelector('.close-button');
      const modalImage = document.getElementById('modalImage');
      const modalText = document.getElementById('modalText');
      const rectangles = document.querySelectorAll('.rectangle.large');

      rectangles.forEach(rectangle => {
        rectangle.addEventListener('click', function(event) {
          const imgElement = rectangle.querySelector('img');
          if (imgElement) {
            const imageSrc = imgElement.getAttribute('data-modal-image');
            const textContent = imgElement.getAttribute('data-modal-text');

            modalImage.src = imageSrc;
            modalText.textContent = textContent;
            modal.style.display = 'flex';
          }
        });
      });

      closeButton.addEventListener('click', function() {
        modal.style.display = 'none';
      });

      window.addEventListener('click', function(event) {
        if (event.target == modal) {
          modal.style.display = 'none';
        }
      });

      // --- Навигация ---
      document.addEventListener('DOMContentLoaded', function() {
        const mastersBtn = document.getElementById('mastersBtn');
        const servantsBtn = document.getElementById('servantsBtn');
        const scrollContainer = document.querySelector('.scroll-container');
        const mainSection = document.querySelector('.section.main');
        const secondSection = document.querySelector('.section.second-page');

        // Проверяем, чтобы всё воркало
        console.log('Masters button:', mastersBtn);
        console.log('Servants button:', servantsBtn);
        console.log('Scroll container:', scrollContainer);
        console.log('Main section:', mainSection);
        console.log('Second section:', secondSection);

        // Переход на первую страницу (Мастера)
        mastersBtn.addEventListener('click', function() {
          console.log('Masters button clicked');
          scrollContainer.scrollTo({
            top: 0,
            behavior: 'smooth'
          });
        });

        // Переход на вторую страницу (Слуги)
        servantsBtn.addEventListener('click', function() {
          console.log('Servants button clicked');
          console.log('Second section offset:', secondSection.offsetTop);
          scrollContainer.scrollTo({
            top: secondSection.offsetTop,
            behavior: 'smooth'
          });
        });

        // Херь, чтобы кнопки работали только на первой странице
        scrollContainer.addEventListener('scroll', function() {
          const isFirstPage = scrollContainer.scrollTop < mainSection.offsetHeight/2;
          mastersBtn.style.opacity = isFirstPage ? '1' : '0.5';
          servantsBtn.style.opacity = isFirstPage ? '1' : '0.5';
        });
      });
    </script>
  </body>
</html>
